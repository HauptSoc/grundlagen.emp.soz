{
  "hash": "2c72d4a7245b933f5d38cbde5a0bbc36",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"**AN**alysis **O**f **VA**riance\"\nformat: \n  revealjs:\n    theme: style.scss\neditor: source\n---\n\n\n\n\n\n\n\n\n## Lab 7 Recap\n\n**Question 6** (Bootstrap Distribution):\n\n-   Did not use an informative axis label\n\n</br>\n\n**Question 8** (Interpret Confidence Interval):\n\n-   Did not include population in interpretation\n-   Stated interval was about \"all marshes\" (no geographical information)\n\n\n# Week 9\n\n## Final Project First Draft\n\n**Step 1** - Due by tonight! \n\n:::{.small}\n- Introduction (Data description, research questions)\n:::\n. . .\n\n**Step 2** - Due by Thursday\n\n:::{.small}\n- Methods (Data visualizations)\n- Findings (Data analysis)\n:::\n\n. . .\n\n**Step 3** - Due by Sunday\n\n:::{.small}\n- Study Limitations\n- Conclusion\n:::\n\n# One-Way ANOVA\n\n##\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nBefore...\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/slr-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n## \n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nNow...\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/age-cat-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n# Why?\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #000000;\"}\nGoal of an ANOVA\n:::\n\nAnalysis of variance (ANOVA) compares the means of three of more groups to detect if the means of the groups are different.\n\n## \n\n::: {style=\"font-size: 4em; color: #B6CADA;\"}\n**How???**\n:::\n\n-   Compare how different a group of means are\n-   Scale the differences relative to the variability of the groups\n-   Summarize the differences with one number\n\n# Visualizations for an ANOVA\n\n# Visualizations for an ANOVA\n\nWe want visualizations that allow for us to easily compare:\n\n-   the center (mean) of the groups\n-   the spread (variability) of the groups\n\n## \n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nPicking joint bandwidth of 0.248\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/age-cat-density-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n\n. . .\n\n::: {style=\"color: #34605f;\"}\n::: columns\n::: {.column width=\"47%\"}\nWhat can you say about the differences *between* the age groups?\n:::\n\n::: {.column width=\"3%\"}\n:::\n\n::: {.column width=\"47%\"}\nWhat can you say about the variability *within* the age groups?\n:::\n:::\n:::\n\n# Carrying out an ANOVA\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 1: Compare your groups\n:::\n\n<!-- ![](images/groups.png) -->\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/compare-groups-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 2: Find the overall mean\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/overall-mean-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n\n<!-- ![](images/overall_mean.png) -->\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #ed8402;\"}\nThis ignores the groups and finds [one]{.underline} mean for every observation!\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 3: Find the group means\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/group-means-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 4: Calculate the sum of squares *between* groups\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/sum-of-squares-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 5: Calculate the sum of squares *within* groups\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/sum-of-squares-2-1.png){width=70%}\n:::\n:::\n\n\n\n\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 6: Calculate the F-statistic\n:::\n\n\n\n![](images/sum-of-squares.jpeg)\n\n<!-- ::: {style=\"color: #B6CADA;\"} -->\n<!-- Can an F-statistic be negative? -->\n<!-- ::: -->\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStep 7: Find the p-value\n:::\n\n![](images/f_dist.png)\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\n**F-distribution**\n:::\n\nAn $F$-distribution is a variant of the $t$-distribution, and is also defined by degrees of freedom.\n\n. . .\n\n</br>\n\nThis distribution is defined by **two** different degrees of freedom:\n\n:::{.small}\n1.  from the numerator (MSG) : $k$ (number of groups) $- 1$\n2.  from the denominator (MSE) : $n$ (number of observations) $- k$ \n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nTwo degrees of freedom!\n:::\n\n</br>\n\n::: columns\n::: {.column width=\"45%\"}\n:::{.small}\nChanging the numerator degrees of freedom\n:::\n\n![](images/f_num_df.png)\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n:::{.small}\nChanging the denominator degrees of freedom\n:::\n\n![](images/f_denom_df.png)\n:::\n:::\n\n##  \n\n::: {style=\"font-size: 3em; color: #000000;\"}\nDo you always use an F-distribution to get the p-value?\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\nNO!\n:::\n\n</center>\n\n## Conditions of an ANOVA\n\n-   Independence of observations\n\n:::{.small}\n> Observations are independent *within* groups **and** *between* groups\n:::\n\n. . .\n\n-   Normality of the residuals\n\n:::{.small}\n> The distribution of residuals for each group is approximately normal\n:::\n\n. . .\n\n-   Equal variability of the groups\n\n:::{.small}\n> The spread of the distributions are similar across groups\n:::\n\n## Choosing a Method\n\n</br>\n\n::: columns\n::: {.column width=\"47%\"}\n::: {style=\"font-size: 1.25em; color: #000000;\"}\nWhich condition(s) are required to use \"theory-based\" methods?\n:::\n\n</br>\n\n:::{.fragment}\nAll three!\n:::\n:::\n\n::: {.column width=\"3%\"}\n:::\n\n::: {.column width=\"47%\"}\n:::{.fragment}\n::: {style=\"font-size: 1.25em; color: #000000;\"}\nWhich condition(s) are required to use \"simulation-based\" methods?\n:::\n:::\n\n</br>\n\n:::{.fragment}\nAll but normality!\n:::\n:::\n:::\n\n## \n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\nPicking joint bandwidth of 0.248\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/conditions-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n\n\n\n\n. . .\n\n::: {style=\"font-size: 1.5em; color: #34605f;\"}\nWhat do you think? Which method should we use?\n:::\n\n# Simulation-based Methods\n\n## Step 1: Calculating the Observed F-statistic\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_F <- evals_small %>% \n  specify(response = min_eval, \n          explanatory = age_cat) %>% \n  calculate(stat = \"F\")\n```\n:::\n\n\n\n\n\n\n</br>\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_F\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nResponse: min_eval (numeric)\nExplanatory: age_cat (factor)\n# A tibble: 1 × 1\n   stat\n  <dbl>\n1  1.41\n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Step 2: Simulating what could have happened under $H_0$\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.25em; color: #34605f;\"}\nHow could we use cards to simulate what minimum evaluation score a professor would have gotten, if their score was independent from their age?\n:::\n\n## Another Permutation Distribution\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnull_dist <- evals_small %>% \n  specify(response = min_eval, \n          explanatory = age_cat) %>% \n  hypothesize(null = \"independence\") %>% \n  generate(reps = 1000, type = \"permute\") %>% \n  calculate(stat = \"F\")\n```\n:::\n\n\n\n\n\n\n## Another Permutation Distribution\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) +\n  labs(x = \"F-statistic\", \n       y = \"\",\n       title = \"Simulation-based Null Distribution\") +\n  theme(axis.title = element_text(size = 72), \n        axis.text.y = element_text(size = 16), \n        axis.text.x = element_text(size = 16), \n        axis.title.x = element_text(size = 18)\n        )\n```\n\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/visualize-null-dist-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #ed8402;\"}\nWhy doesn't the distribution have negative numbers?\n:::\n\n## Visualizing the p-value\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) + \n  shade_p_value(obs_stat = obs_F, \n                direction = \"greater\")\n```\n:::\n\n\n\n\n\n\n## Visualizing the p-value\n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np_val <- get_p_value(null_dist, obs_stat = obs_F, direction = \"greater\") %>% \n  pull()\n  \nnull_dist %>% \n  visualise() + \n  shade_p_value(obs_stat = obs_F, direction = \"greater\") + \n  annotate(x = pull(obs_F) + 2.5,\n           y = 100, \n           geom = \"text\", \n           label = stringr::str_c(\"p-value = \", p_val), \n           size = 6) +\n  labs(x = \"F-statistic\", \n       y = \"\",\n       title = \"Simulation-based Null Distribution with 1000 Resamples\") +\n  theme(axis.title = element_text(size = 72), \n        axis.text.y = element_text(size = 16), \n        axis.text.x = element_text(size = 16), \n        axis.title.x = element_text(size = 18)\n        )\n```\n\n::: {.cell-output-display}\n![](week9-day1_files/figure-html/p-value-visualization-annotated-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n\n\n\n\n\n## Making a Decision & Reaching a Conclusion\n\n::: columns\n::: {.column width=\"47%\"}\nFor a p-value of 0.27, what decision would you reach regarding your hypothesis test?\n:::\n\n::: {.column width=\"3%\"}\n:::\n\n::: {.column width=\"47%\"}\n:::{.fragment}\nWhat would you conclude regarding the mean minimum evaluation score for different age groups of faculty?\n:::\n:::\n:::\n\n## Large p-values $\\neq$ evidence for the null hypothesis! \n\n![](images/No evidence against the null.png)\n\n\n# What if we didn't believe the normality condition was violated?\n\n## Theory-based Methods\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\naov(min_eval ~ age_cat, \n    data = evals_small)  %>% \n  tidy()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\naov(min_eval ~ age_cat, \n    data = evals_small)  %>% \n  tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 6\n  term         df sumsq meansq statistic p.value\n  <chr>     <dbl> <dbl>  <dbl>     <dbl>   <dbl>\n1 age_cat       3  1.24  0.414      1.41   0.244\n2 Residuals    90 26.4   0.293     NA     NA    \n```\n\n\n:::\n:::\n\n\n\n\n\n\n. . .\n\n</br>\n\nHow was the `statistic` calculated?\n\n. . .\n\nWhat distribution was used to calculate the `p.value`?\n\n. . .\n\n## Making a Decision & Reaching a Conclusion\n\n::: columns\n::: {.column width=\"47%\"}\nFor a p-value of 0.244, what decision would you reach regarding your hypothesis test?\n:::\n\n::: {.column width=\"3%\"}\n:::\n\n::: {.column width=\"47%\"}\n:::{.fragment}\nWhat would you conclude regarding the mean minimum evaluation score for different age groups of faculty?\n:::\n:::\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\nDid the two methods yield different results?\n:::\n\n# Final Project Work Session\n\n## Introduction & Research Questions\n\n::: columns\n::: {.column width=\"47%\"}\nIn 4-6 sentences, introduce / describe your data. \n\n- What is the context of the data?\n- For what purpose were these data collected?\n:::\n\n::: {.column width=\"3%\"}\n:::\n\n::: {.column width=\"47%\"}\n:::{.fragment}\nOutline the [**two**]{.underline} questions your research seeks to address.\n\n- You will have one question for each one-way ANOVA model\n- Your question should be in terms of \"differences in group means\" not \"relationships\"\n:::\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}